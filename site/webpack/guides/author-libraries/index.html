<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="demun blog"><link rel="canonical" href="https://demun.github.io/webpack/guides/author-libraries/"><meta name="author" content="demun"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../../../assets/images/favicon.png"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>Authoring Libraries - demun.github.io</title><link rel="stylesheet" href="../../../assets/stylesheets/application.4031d38b.css"><link rel="stylesheet" href="../../../assets/stylesheets/application-palette.224b79ff.css"><meta name="theme-color" content="#3f51b5"><script src="../../../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=맑은고딕:300,400,400i,700|맑은고딕&display=swap"><style>body,input{font-family:"맑은고딕","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"맑은고딕","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../../../assets/fonts/material-icons.css"><link rel="stylesheet" href="../../../assets/stylesheets/extra.css"><script>window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-XXXXXXXX-X", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })</script><script async src="https://www.google-analytics.com/analytics.js"></script></head><body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo"><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#authoring-libraries" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="https://demun.github.io/" title="demun.github.io" class="md-header-nav__button md-logo"><i class="md-icon"></i></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">demun.github.io</span><span class="md-header-nav__topic">Authoring Libraries</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a href="https://github.com/demun/demun.github.io" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">demun/demun.github.io</div></a></div></div></div></nav></header><div class="md-container"><nav class="md-tabs md-tabs--active" data-md-component="tabs"><div class="md-tabs__inner md-grid"><ul class="md-tabs__list"><li class="md-tabs__item"><a href="../../.." title="Home" class="md-tabs__link">Home</a></li><li class="md-tabs__item"><a href="../../../publisher-report/" title="Publisher report" class="md-tabs__link">Publisher report</a></li><li class="md-tabs__item"><a href="../../../vscode/" title="Visual Studio Code" class="md-tabs__link">Visual Studio Code</a></li><li class="md-tabs__item"><a href="../../../mkdocs/" title="MkDocs" class="md-tabs__link">MkDocs</a></li><li class="md-tabs__item"><a href="../../../material-theme/" title="MkDocs Material" class="md-tabs__link">MkDocs Material</a></li><li class="md-tabs__item"><a href="../getting-started/" title="Webpack" class="md-tabs__link md-tabs__link--active">Webpack</a></li></ul></div></nav><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="https://demun.github.io/" title="demun.github.io" class="md-nav__button md-logo"><i class="md-icon"></i></a>demun.github.io</label><div class="md-nav__source"><a href="https://github.com/demun/demun.github.io" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">demun/demun.github.io</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../.." title="Home" class="md-nav__link">Home</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2"><label class="md-nav__link" for="nav-2">Publisher report</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-2">Publisher report</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../../publisher-report/" title="HTML소개" class="md-nav__link">HTML소개</a></li><li class="md-nav__item"><a href="../../../publisher-report/00_default/" title="HTML기본" class="md-nav__link">HTML기본</a></li><li class="md-nav__item"><a href="../../../publisher-report/01_html/" title="HTML만들기" class="md-nav__link">HTML만들기</a></li><li class="md-nav__item"><a href="../../../publisher-report/02_p/" title="단락,블럭,주석" class="md-nav__link">단락,블럭,주석</a></li><li class="md-nav__item"><a href="../../../publisher-report/03_a/" title="링크,이미지" class="md-nav__link">링크,이미지</a></li><li class="md-nav__item"><a href="../../../publisher-report/04_list/" title="리스트" class="md-nav__link">리스트</a></li><li class="md-nav__item"><a href="../../../publisher-report/05_table/" title="표" class="md-nav__link">표</a></li><li class="md-nav__item"><a href="../../../publisher-report/06_html5/" title="HTML5" class="md-nav__link">HTML5</a></li><li class="md-nav__item"><a href="../../../publisher-report/07_css/" title="CSS소개" class="md-nav__link">CSS소개</a></li><li class="md-nav__item"><a href="../../../publisher-report/08_color/" title="색상,배경,테두리" class="md-nav__link">색상,배경,테두리</a></li><li class="md-nav__item"><a href="../../../publisher-report/09_padding/" title="여백,높이" class="md-nav__link">여백,높이</a></li><li class="md-nav__item"><a href="../../../publisher-report/10_box/" title="박스모델" class="md-nav__link">박스모델</a></li><li class="md-nav__item"><a href="../../../publisher-report/11_text/" title="텍스트" class="md-nav__link">텍스트</a></li><li class="md-nav__item"><a href="../../../publisher-report/12_list/" title="목록,표" class="md-nav__link">목록,표</a></li><li class="md-nav__item"><a href="../../../publisher-report/13_display/" title="디스플레이" class="md-nav__link">디스플레이</a></li><li class="md-nav__item"><a href="../../../publisher-report/14_overflow/" title="오버플로우" class="md-nav__link">오버플로우</a></li><li class="md-nav__item"><a href="../../../publisher-report/15_radius/" title="둥근테두리" class="md-nav__link">둥근테두리</a></li><li class="md-nav__item"><a href="../../../publisher-report/16_gradient/" title="그라디언트" class="md-nav__link">그라디언트</a></li><li class="md-nav__item"><a href="../../../publisher-report/17_text/" title="텍스트효과" class="md-nav__link">텍스트효과</a></li><li class="md-nav__item"><a href="../../../publisher-report/18_shadow/" title="그림자" class="md-nav__link">그림자</a></li><li class="md-nav__item"><a href="../../../publisher-report/19_webfont/" title="웹글꼴" class="md-nav__link">웹글꼴</a></li><li class="md-nav__item"><a href="../../../publisher-report/20_viewport/" title="뷰포트" class="md-nav__link">뷰포트</a></li><li class="md-nav__item"><a href="../../../publisher-report/21_fixed/" title="레이아웃 고정형" class="md-nav__link">레이아웃 고정형</a></li><li class="md-nav__item"><a href="../../../publisher-report/22_flow/" title="레이아웃 유동형" class="md-nav__link">레이아웃 유동형</a></li><li class="md-nav__item"><a href="../../../publisher-report/23_response/" title="레이아웃 반응형" class="md-nav__link">레이아웃 반응형</a></li><li class="md-nav__item"><a href="../../../publisher-report/24_exam/" title="호환성 보기 설정" class="md-nav__link">호환성 보기 설정</a></li><li class="md-nav__item"><a href="../../../publisher-report/25_exam/" title="개발자 도구 확인" class="md-nav__link">개발자 도구 확인</a></li><li class="md-nav__item"><a href="../../../publisher-report/26_exam/" title="QR코드 생성" class="md-nav__link">QR코드 생성</a></li><li class="md-nav__item"><a href="../../../publisher-report/27_exam/" title="모바일 검수" class="md-nav__link">모바일 검수</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3"><label class="md-nav__link" for="nav-3">Visual Studio Code</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-3">Visual Studio Code</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../../vscode/" title="소개" class="md-nav__link">소개</a></li><li class="md-nav__item"><a href="../../../vscode/shortcuts/" title="단축키" class="md-nav__link">단축키</a></li><li class="md-nav__item"><a href="../../../vscode/git/" title="Git" class="md-nav__link">Git</a></li><li class="md-nav__item"><a href="../../../vscode/debug/" title="Debug" class="md-nav__link">Debug</a></li><li class="md-nav__item"><a href="../../../vscode/task/" title="Task" class="md-nav__link">Task</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4"><label class="md-nav__link" for="nav-4">MkDocs</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-4">MkDocs</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../../mkdocs/" title="소개" class="md-nav__link">소개</a></li><li class="md-nav__item"><a href="../../../mkdocs/how/" title="사용법" class="md-nav__link">사용법</a></li><li class="md-nav__item"><a href="../../../mkdocs/theme/" title="테마" class="md-nav__link">테마</a></li><li class="md-nav__item"><a href="../../../mkdocs/tree/" title="구조" class="md-nav__link">구조</a></li><li class="md-nav__item"><a href="../../../mkdocs/others/" title="기타" class="md-nav__link">기타</a></li><li class="md-nav__item"><a href="../../../mkdocs/admonition/" title="Admonition" class="md-nav__link">Admonition</a></li><li class="md-nav__item"><a href="../../../mkdocs/publish/" title="배포" class="md-nav__link">배포</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5"><label class="md-nav__link" for="nav-5">MkDocs Material</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-5">MkDocs Material</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../../material-theme/" title="Material" class="md-nav__link">Material</a></li><li class="md-nav__item"><a href="../../../material-theme/getting-started/" title="Getting started" class="md-nav__link">Getting started</a></li><li class="md-nav__item"><a href="../../../material-theme/specimen/" title="Specimen" class="md-nav__link">Specimen</a></li><li class="md-nav__item"><a href="../../../material-theme/customization/" title="Customization" class="md-nav__link">Customization</a></li><li class="md-nav__item"><a href="../../../material-theme/compliance/" title="Compliance with GDPR" class="md-nav__link">Compliance with GDPR</a></li><li class="md-nav__item"><a href="../../../material-theme/extensions/admonition/" title="Admonition" class="md-nav__link">Admonition</a></li><li class="md-nav__item"><a href="../../../material-theme/extensions/codehilite/" title="CodeHilite" class="md-nav__link">CodeHilite</a></li><li class="md-nav__item"><a href="../../../material-theme/extensions/footnotes/" title="Footnotes" class="md-nav__link">Footnotes</a></li><li class="md-nav__item"><a href="../../../material-theme/extensions/metadata/" title="Metadata" class="md-nav__link">Metadata</a></li><li class="md-nav__item"><a href="../../../material-theme/extensions/permalinks/" title="Permalinks" class="md-nav__link">Permalinks</a></li><li class="md-nav__item"><a href="../../../material-theme/extensions/pymdown/" title="PyMdown" class="md-nav__link">PyMdown</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked><label class="md-nav__link" for="nav-6">Webpack</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-6">Webpack</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../getting-started/" title="Getting Started" class="md-nav__link">Getting Started</a></li><li class="md-nav__item"><a href="../asset-management/" title="Asset Management" class="md-nav__link">Asset Management</a></li><li class="md-nav__item"><a href="../development/" title="Development" class="md-nav__link">Development</a></li><li class="md-nav__item"><a href="../code-splitting/" title="Code Spliting" class="md-nav__link">Code Spliting</a></li><li class="md-nav__item"><a href="../caching/" title="Caching" class="md-nav__link">Caching</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Authoring Libraries</label><a href="./" title="Authoring Libraries" class="md-nav__link md-nav__link--active">Authoring Libraries</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#authoring-a-library" title="Authoring a Library" class="md-nav__link">Authoring a Library</a></li><li class="md-nav__item"><a href="#base-configuration" title="Base Configuration" class="md-nav__link">Base Configuration</a></li><li class="md-nav__item"><a href="#externalize-lodash" title="Externalize Lodash" class="md-nav__link">Externalize Lodash</a></li><li class="md-nav__item"><a href="#external-limitations" title="External Limitations" class="md-nav__link">External Limitations</a></li><li class="md-nav__item"><a href="#expose-the-library" title="Expose the Library" class="md-nav__link">Expose the Library</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#final-steps" title="Final Steps" class="md-nav__link">Final Steps</a></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="../environment-variables/" title="Environment Variables" class="md-nav__link">Environment Variables</a></li><li class="md-nav__item"><a href="../build-performance/" title="Build Performance" class="md-nav__link">Build Performance</a></li><li class="md-nav__item"><a href="../csp/" title="Content Security Policies" class="md-nav__link">Content Security Policies</a></li><li class="md-nav__item"><a href="../development-vagrant/" title="Development - Vagrant" class="md-nav__link">Development - Vagrant</a></li><li class="md-nav__item"><a href="../installation/" title="Installation" class="md-nav__link">Installation</a></li><li class="md-nav__item"><a href="../scaffolding/" title="Scaffolding" class="md-nav__link">Scaffolding</a></li><li class="md-nav__item"><a href="../output-management/" title="Output Management" class="md-nav__link">Output Management</a></li><li class="md-nav__item"><a href="../hot-module-replacement/" title="Hot Module Replacement" class="md-nav__link">Hot Module Replacement</a></li><li class="md-nav__item"><a href="../tree-shaking/" title="Tree Shaking" class="md-nav__link">Tree Shaking</a></li><li class="md-nav__item"><a href="../production/" title="Production" class="md-nav__link">Production</a></li><li class="md-nav__item"><a href="../lazy-loading/" title="Lazy Loading" class="md-nav__link">Lazy Loading</a></li><li class="md-nav__item"><a href="../shimming/" title="Shimming" class="md-nav__link">Shimming</a></li><li class="md-nav__item"><a href="../typescript/" title="TypeScript" class="md-nav__link">TypeScript</a></li><li class="md-nav__item"><a href="../progressive-web-application/" title="Progressive Web Application" class="md-nav__link">Progressive Web Application</a></li><li class="md-nav__item"><a href="../public-path/" title="Public Path" class="md-nav__link">Public Path</a></li><li class="md-nav__item"><a href="../integrations/" title="Integrations" class="md-nav__link">Integrations</a></li><li class="md-nav__item"><a href="../../concepts/" title="Concepts" class="md-nav__link">Concepts</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#authoring-a-library" title="Authoring a Library" class="md-nav__link">Authoring a Library</a></li><li class="md-nav__item"><a href="#base-configuration" title="Base Configuration" class="md-nav__link">Base Configuration</a></li><li class="md-nav__item"><a href="#externalize-lodash" title="Externalize Lodash" class="md-nav__link">Externalize Lodash</a></li><li class="md-nav__item"><a href="#external-limitations" title="External Limitations" class="md-nav__link">External Limitations</a></li><li class="md-nav__item"><a href="#expose-the-library" title="Expose the Library" class="md-nav__link">Expose the Library</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#final-steps" title="Final Steps" class="md-nav__link">Final Steps</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><h1 id="authoring-libraries">Authoring Libraries<a class="headerlink" href="#authoring-libraries" title="Permanent link">&para;</a></h1>
<p>Aside from applications, webpack can also be used to bundle JavaScript libraries. The following guide is meant for library authors looking to streamline their bundling strategy.
응용 프로그램을 제외하고 webpack은 JavaScript 라이브러리를 묶는 데 사용될 수도 있습니다. 다음 가이드는 번들링 전략을 간소화 하려는 라이브러리 제작자를 위한 것입니다.</p>
<h2 id="authoring-a-library">Authoring a Library<a class="headerlink" href="#authoring-a-library" title="Permanent link">&para;</a></h2>
<p>여러분이 작은 라이브러리 <code>webpack-numbers</code>를 작성한다고 가정 해 보겠습니다. 이 라이브러리는 사용자가 숫자 표현에서 텍스트 표현으로 변환 할 수 있도록 해줍니다. 예를들어 2에서 'two'.</p>
<p>기본 프로젝트 구조는 다음과 같습니다:</p>
<p><strong>project</strong></p>
<div class="codehilite"><pre><span></span><span class="gi">+  |- webpack.config.js</span>
<span class="gi">+  |- package.json</span>
<span class="gi">+  |- /src</span>
<span class="gi">+    |- index.js</span>
<span class="gi">+    |- ref.json</span>
</pre></div>

<p>npm 초기화, webpack 및 lodash 설치:</p>
<div class="codehilite"><pre><span></span>npm init -y
npm install --save-dev webpack lodash
</pre></div>

<p><strong>src/ref.json</strong></p>
<div class="codehilite"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="nt">&quot;num&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;word&quot;</span><span class="p">:</span> <span class="s2">&quot;One&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nt">&quot;num&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nt">&quot;word&quot;</span><span class="p">:</span> <span class="s2">&quot;Two&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nt">&quot;num&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="nt">&quot;word&quot;</span><span class="p">:</span> <span class="s2">&quot;Three&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nt">&quot;num&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="nt">&quot;word&quot;</span><span class="p">:</span> <span class="s2">&quot;Four&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nt">&quot;num&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="nt">&quot;word&quot;</span><span class="p">:</span> <span class="s2">&quot;Five&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nt">&quot;num&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;word&quot;</span><span class="p">:</span> <span class="s2">&quot;Zero&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>

<p><strong>src/index.js</strong></p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="nx">_</span> <span class="nx">from</span> <span class="s1">&#39;lodash&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">numRef</span> <span class="nx">from</span> <span class="s1">&#39;./ref.json&#39;</span><span class="p">;</span>

<span class="kr">export</span> <span class="kd">function</span> <span class="nx">numToWord</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">_</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="nx">numRef</span><span class="p">,</span> <span class="p">(</span><span class="nx">accum</span><span class="p">,</span> <span class="nx">ref</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">ref</span><span class="p">.</span><span class="nx">num</span> <span class="o">===</span> <span class="nx">num</span> <span class="o">?</span> <span class="nx">ref</span><span class="p">.</span><span class="nx">word</span> <span class="o">:</span> <span class="nx">accum</span><span class="p">;</span>
  <span class="p">},</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="kd">function</span> <span class="nx">wordToNum</span><span class="p">(</span><span class="nx">word</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">_</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="nx">numRef</span><span class="p">,</span> <span class="p">(</span><span class="nx">accum</span><span class="p">,</span> <span class="nx">ref</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">ref</span><span class="p">.</span><span class="nx">word</span> <span class="o">===</span> <span class="nx">word</span> <span class="o">&amp;&amp;</span> <span class="nx">word</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">?</span> <span class="nx">ref</span><span class="p">.</span><span class="nx">num</span> <span class="o">:</span> <span class="nx">accum</span><span class="p">;</span>
  <span class="p">},</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>라이브러리 사용에 대한 사용 스펙은 다음과 같습니다.</p>
<ul>
<li><strong>ES2015 module import:</strong></li>
</ul>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">webpackNumbers</span> <span class="nx">from</span> <span class="s1">&#39;webpack-numbers&#39;</span><span class="p">;</span>
<span class="c1">// ...</span>
<span class="nx">webpackNumbers</span><span class="p">.</span><span class="nx">wordToNum</span><span class="p">(</span><span class="s1">&#39;Two&#39;</span><span class="p">);</span>
</pre></div>

<ul>
<li><strong>CommonJS module require:</strong></li>
</ul>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">webpackNumbers</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;webpack-numbers&#39;</span><span class="p">);</span>
<span class="c1">// ...</span>
<span class="nx">webpackNumbers</span><span class="p">.</span><span class="nx">wordToNum</span><span class="p">(</span><span class="s1">&#39;Two&#39;</span><span class="p">);</span>
</pre></div>

<ul>
<li><strong>AMD module require:</strong></li>
</ul>
<div class="codehilite"><pre><span></span><span class="nx">require</span><span class="p">([</span><span class="s1">&#39;webpackNumbers&#39;</span><span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">webpackNumbers</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// ...</span>
  <span class="nx">webpackNumbers</span><span class="p">.</span><span class="nx">wordToNum</span><span class="p">(</span><span class="s1">&#39;Two&#39;</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>

<p>또한 우리는 스크립트 태그를 통해 라이브러리를 로드하여 라이브러리를 사용할 수 있습니다:</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;!doctype html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
  ...
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://unpkg.com/webpack-numbers&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="c1">// ...</span>
    <span class="c1">// Global variable</span>
    <span class="nx">webpackNumbers</span><span class="p">.</span><span class="nx">wordToNum</span><span class="p">(</span><span class="s1">&#39;Five&#39;</span><span class="p">)</span>
    <span class="c1">// Property in the window object</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">webpackNumbers</span><span class="p">.</span><span class="nx">wordToNum</span><span class="p">(</span><span class="s1">&#39;Five&#39;</span><span class="p">)</span>
    <span class="c1">// ...</span>
  <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>

<p>다음과 같은 방법으로 라이브러리를 노출하도록 구성 할 수도 있습니다.</p>
<ul>
<li>노드에 대한 전역 개체의 속성입니다.</li>
<li><code>this</code> 객체의 속성.</li>
</ul>
<p>전체 라이브러리 구성 및 코드는 <a href="https://github.com/kalcifer/webpack-library-example">webpack-library-example</a>을 참조하십시오.</p>
<h2 id="base-configuration">Base Configuration<a class="headerlink" href="#base-configuration" title="Permanent link">&para;</a></h2>
<p>이제 이 라이브러리를 다음과 같은 목표를 달성하는 방식인 번들로 묶어 보겠습니다.</p>
<ul>
<li><code>lodash</code> 번들을 피하기 위해 <code>externals</code> 을 사용하므로 그것을 로드해야 합니다.</li>
<li>라이브러리 이름을 <code>webpack-numbers</code> 로 설정.</li>
<li>라이브러리를 <code>webpackNumbers</code> 라는 변수로 요청합니다.</li>
<li>Node.js 내의 라이브러리에 액세스 할 수 있어야 합니다.</li>
</ul>
<p>또한 우리는 다음과 같은 방법으로 라이브러리에 액세스 할 수 있어야합니다.</p>
<ul>
<li>ES2015 모듈. 즉, <code>'webpack-numbers' 에서 webpackNumbers를 가져옵니다.</code></li>
<li>CommonJS 모듈. 즉 <code>require('webpack-numbers')</code>를 사용합니다.
-<code>script</code> 태그를 통해 포함될 때 전역 변수.</li>
</ul>
<p>이 기본 웹팩 구성으로 시작할 수 있습니다:</p>
<p><strong>webpack.config.js</strong></p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">);</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">entry</span><span class="o">:</span> <span class="s1">&#39;./src/index.js&#39;</span><span class="p">,</span>
  <span class="nx">output</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">path</span><span class="o">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s1">&#39;dist&#39;</span><span class="p">),</span>
    <span class="nx">filename</span><span class="o">:</span> <span class="s1">&#39;webpack-numbers.js&#39;</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></div>

<h2 id="externalize-lodash">Externalize Lodash<a class="headerlink" href="#externalize-lodash" title="Permanent link">&para;</a></h2>
<p>이제 <code>webpack</code>을 실행하면 큰 번들이 생성된다는 것을 알 수 있습니다. 파일을 검사하면 lodash가 코드와 함께 번들 된 것을 볼 수 있습니다.
이 경우 <code>lodash</code> 를 <code>peerDependency</code> 로 취급하는 것을 선호합니다.
소비자가 이미 <code>lodash</code> 를 설치해야 함을 의미합니다. 따라서 이 외부 라이브러리에 대한 제어권을 라이브러리 사용자에게 포기할 수 있습니다.</p>
<p>이것은<code>externals</code> 설정을 사용하여 할 수 있습니다:</p>
<p><strong>webpack.config.js</strong></p>
<div class="codehilite"><pre><span></span>  const path = require(&#39;path&#39;);

  module.exports = {
    entry: &#39;./src/index.js&#39;,
    output: {
      path: path.resolve(__dirname, &#39;dist&#39;),
      filename: &#39;webpack-numbers.js&#39;
<span class="gd">-   }</span>
<span class="gi">+   },</span>
<span class="gi">+   externals: {</span>
<span class="gi">+     lodash: {</span>
<span class="gi">+       commonjs: &#39;lodash&#39;,</span>
<span class="gi">+       commonjs2: &#39;lodash&#39;,</span>
<span class="gi">+       amd: &#39;lodash&#39;,</span>
<span class="gi">+       root: &#39;_&#39;</span>
<span class="gi">+     }</span>
<span class="gi">+   }</span>
  };
</pre></div>

<p>이것은 당신의 라이브러리가 <code>lodash</code>라는 의존성이 우리 환경에서 사용 가능할 것으로 기대한다는 것을 의미합니다.</p>
<blockquote>
<p>라이브러리를 다른 webpack 번들의 종속물로만 사용할 계획이라면 <code>externals</code>을 배열로 지정할 수 있습니다.</p>
</blockquote>
<h2 id="external-limitations">External Limitations<a class="headerlink" href="#external-limitations" title="Permanent link">&para;</a></h2>
<p>종속성에서 여러 파일을 사용하는 라이브러리의 경우 :</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="nx">A</span> <span class="nx">from</span> <span class="s1">&#39;library/one&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">B</span> <span class="nx">from</span> <span class="s1">&#39;library/two&#39;</span><span class="p">;</span>

<span class="c1">// ...</span>
</pre></div>

<p>외부에서 <code>library</code> 를 지정하여 번들에서 제외 할 수 없습니다. 하나씩 또는 정규식을 사용하여 제외해야 합니다.</p>
<div class="codehilite"><pre><span></span><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1">//...</span>
  <span class="nx">externals</span><span class="o">:</span> <span class="p">[</span>
    <span class="s1">&#39;library/one&#39;</span><span class="p">,</span>
    <span class="s1">&#39;library/two&#39;</span><span class="p">,</span>
    <span class="c1">// &quot;library/&quot;로 시작하는 모든 것</span>
    <span class="sr">/^library\/.+$/</span>
  <span class="p">]</span>
<span class="p">};</span>
</pre></div>

<h2 id="expose-the-library">Expose the Library<a class="headerlink" href="#expose-the-library" title="Permanent link">&para;</a></h2>
<p>라이브러리를 광범위하게 사용하려면 CommonJS, AMD, Node.js와 같은 다른 환경에서 그리고 전역 변수로 호환되기를 바랍니다. 라이브러리를 사용할 수있게 만들려면 <code>output</code> 안에 <code>library</code> 속성을 추가하십시오:</p>
<p><strong>webpack.config.js</strong></p>
<div class="codehilite"><pre><span></span>  const path = require(&#39;path&#39;);

  module.exports = {
    entry: &#39;./src/index.js&#39;,
    output: {
      path: path.resolve(__dirname, &#39;dist&#39;),
<span class="gd">-     filename: &#39;webpack-numbers.js&#39;</span>
<span class="gi">+     filename: &#39;webpack-numbers.js&#39;,</span>
<span class="gi">+     library: &#39;webpackNumbers&#39;</span>
    },
    externals: {
      lodash: {
        commonjs: &#39;lodash&#39;,
        commonjs2: &#39;lodash&#39;,
        amd: &#39;lodash&#39;,
        root: &#39;_&#39;
      }
    }
  };
</pre></div>

<blockquote>
<p><code>library</code> 설정은 <code>entry</code> 설정과 관련이 있습니다. 대부분의 라이브러리에서는 단일 진입 점을 지정하는 것으로 충분합니다. <a href="https://github.com/webpack/webpack/tree/master/examples/multi-part-library">multi-part libraries</a>는 가능하지만 <a href="https://stackoverflow.com/questions/34072598/es6-exporting-importing-in-index-file">index script</a>를 통해 부분 내보내기를 노출하는 것이 더 간단합니다. 라이브러리의 <code>entry</code> 포인트로서 <code>array</code>를 사용하는 것은 <strong>권장하지 않음</strong> 입니다.</p>
</blockquote>
<p>그러면 라이브러리 번들을 가져올 때 <code>webpackNumbers</code> 라는 전역 변수로 사용할 수 있습니다. 다른 환경과 호환되도록 라이브러리에 <code>libraryTarget</code> 속성을 추가하십시오.
그러면 라이브러리가 노출 될 수 있는 방법에 대한 다양한 옵션이 추가됩니다.</p>
<p><strong>webpack.config.js</strong></p>
<div class="codehilite"><pre><span></span>  const path = require(&#39;path&#39;);

  module.exports = {
    entry: &#39;./src/index.js&#39;,
    output: {
      path: path.resolve(__dirname, &#39;dist&#39;),
      filename: &#39;webpack-numbers.js&#39;,
<span class="gd">-     library: &#39;webpackNumbers&#39;</span>
<span class="gi">+     library: &#39;webpackNumbers&#39;,</span>
<span class="gi">+     libraryTarget: &#39;umd&#39;</span>
    },
    externals: {
      lodash: {
        commonjs: &#39;lodash&#39;,
        commonjs2: &#39;lodash&#39;,
        amd: &#39;lodash&#39;,
        root: &#39;_&#39;
      }
    }
  };
</pre></div>

<p>다음과 같은 방법으로 라이브러리를 노출 할 수 있습니다.</p>
<ul>
<li>변수: <code>script</code> 태그 (<code>libraryTarget:'var'</code>)에 의해 사용 가능한 전역 변수입니다.</li>
<li>This : <code>this</code> 객체 (<code>libraryTarget:'this'</code>)를 통해 사용할 수 있습니다.</li>
<li>Window : 브라우저에서 <code>window</code> 객체 (<code>libraryTarget:'window'</code>)를 통해 사용할 수 있습니다.</li>
<li>UMD : AMD 또는 CommonJS 에서 <code>require</code> (<code>libraryTarget:'umd'</code>) 를 사용 가능합니다.</li>
</ul>
<p><code>library</code>가 설정되고 <code>libraryTarget</code> 이 아닌 경우, <code>libraryTarget</code>의 기본값은 <a href="/configuration/output">output configuration documentation</a>에 지정된대로 <code>var</code>입니다. 
사용 가능한 모든 옵션에 대한 자세한 목록은 <a href="/configuration/output#outputlibrarytarget"><code>output.libraryTarget</code></a>을 참조하십시오.</p>
<blockquote>
<p>webpack 3.5.5에서 <code>libraryTarget: { root:'_' }</code> 을 사용하면 <a href="https://github.com/webpack/webpack/issues/4824">issue 4824</a>에 명시된대로 제대로 작동하지 않습니다. 그러나 <code>libraryTarget: { var: '_' }</code>을 설정하여 라이브러리를 전역 변수로 사용할 수 있습니다.</p>
</blockquote>
<h3 id="final-steps">Final Steps<a class="headerlink" href="#final-steps" title="Permanent link">&para;</a></h3>
<p><a href="/guides/production">production guide</a>의 단계에 따라 프로덕션 출력을 최적화하십시오. 생성된 번들에 대한 경로를 <code>main</code> 필드로 <code>package.json</code>에 추가하십시오</p>
<p><strong>package.json</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="err">...</span>
  <span class="nt">&quot;main&quot;</span><span class="p">:</span> <span class="s2">&quot;dist/webpack-numbers.js&quot;</span><span class="p">,</span>
  <span class="err">...</span>
<span class="p">}</span>
</pre></div>

<p>또는 <a href="https://github.com/dherman/defense-of-dot-js/blob/master/proposal.md#typical-usage">이 안내서</a>에 따라 표준 모듈로 추가하십시오.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="err">...</span>
  <span class="nt">&quot;module&quot;</span><span class="p">:</span> <span class="s2">&quot;src/index.js&quot;</span><span class="p">,</span>
  <span class="err">...</span>
<span class="p">}</span>
</pre></div>

<p><code>main</code> 키는 <a href="https://docs.npmjs.com/files/package.json#main"><code>package.json</code>의 표준</a>을 의미하고, <code>module</code>을 <a href="https://github.com/dherman/defense-of-dot-js/blob/master/proposal.md">a</a> <a href="https://github.com/rollup/rollup/wiki/pkg.module">proposal</a> JavaScript 생태계 업그레이드를 허용하려면 역호환성을 없애지 않고 ES2015 모듈을 사용합니다.</p>
<p>W&gt; <code>module</code> 속성은 ES2015 모듈 구문을 사용하지만 브라우저나 노드에서 아직 지원하지 않는 다른 구문 기능은 사용하지 않는 스크립트를 가리켜야합니다. 이렇게하면 webpack이 모듈 구문 자체를 분석 할 수 있으므로 사용자가 라이브러리의 특정 부분만 사용하는 경우 <a href="https://webpack.js.org/guides/tree-shaking/">tree shaking</a>을 통해 더 가벼운 번들을 사용할 수 있습니다.</p>
<p>이제 <a href="https://docs.npmjs.com/getting-started/publishing-npm-packages">npm 패키지로 게시</a>하고 <a href="https://unpkg.com/#/">unpkg.com</a>에서 검색하여 사용자에게 배포 할 수 있습니다.</p>
<p>T&gt; 라이브러리와 관련된 스타일시트를 노출하려면 <a href="/plugins/mini-css-extract-plugin"><code>MiniCssExtractPlugin</code></a>을 사용해야합니다. 사용자는 다른 스타일시트처럼 사용하고 로드 할 수 있습니다.</p>
<p><br></p></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../caching/" title="Caching" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Previous</span>Caching</span></div></a><a href="../environment-variables/" title="Environment Variables" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Next</span>Environment Variables</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright">powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div></div></div></footer></div><script src="../../../assets/javascripts/application.d5a09f94.js"></script><script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script></body></html>